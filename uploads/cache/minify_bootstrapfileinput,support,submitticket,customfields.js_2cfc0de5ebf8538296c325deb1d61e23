$(function(){$.fn.bootstrapFileInput=function(){this.each(function(i,elem){var $elem=$(elem);if(typeof $elem.attr('data-bfi-disabled')!='undefined'){return;}
var buttonWord='Browse';if(typeof $elem.attr('title')!='undefined'){buttonWord=$elem.attr('title');}
var input=$('<div>').append($elem.eq(0).clone()).html();var className='';if(!!$elem.attr('class')){className=' '+$elem.attr('class');}
$elem.replaceWith('<a class="file-input-wrapper btn'+className+'">'+buttonWord+input+'</a>');}).promise().done(function(){$('.file-input-wrapper').mousemove(function(cursor){var input,wrapper,wrapperX,wrapperY,inputWidth,inputHeight,cursorX,cursorY;wrapper=$(this);input=wrapper.find("input");wrapperX=wrapper.offset().left;wrapperY=wrapper.offset().top;inputWidth=input.width();inputHeight=input.height();cursorX=cursor.pageX;cursorY=cursor.pageY;moveInputX=cursorX-wrapperX-inputWidth+20;moveInputY=cursorY-wrapperY-(inputHeight/2);input.css({left:moveInputX,top:moveInputY});});$('.file-input-wrapper input[type=file]').change(function(){var fileName;fileName=$(this).val();$(this).parent().next('.file-input-name').remove();if(!!$(this).prop('files')&&$(this).prop('files').length>1){fileName=$(this)[0].files.length+' files';}
else{fileName=fileName.substring(fileName.lastIndexOf('\\')+1,fileName.length);}
$(this).parent().after('<span class="file-input-name">'+fileName+'</span>');});});};var cssHtml='<style>'+'.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }'+'.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }'+'.file-input-name { margin-left: 8px; }'+'</style>';$('link[rel=stylesheet]').eq(0).before(cssHtml);});;var submitticket={uploadFieldCount:0,cloneAttchInput:function(){var clon='fileFields_0';if(!document.getElementById(clon)){return;}
var newField=document.getElementById(clon).cloneNode(true);var inputField=newField.getElementsByTagName("input");var linkDelete=newField.getElementsByTagName("a");var newId=clon+submitticket.uploadFieldCount;var newName=clon+submitticket.uploadFieldCount;$(newField).find('.file-input-name').text('');$(newField).show();$(inputField).attr("id",newId);$(inputField).attr("name",newName);$(inputField).val('');$(inputField).change(submitticket.selectedFile);linkDelete[1].setAttribute("href","javascript:submitticket.removeFileField('"+"delete_"+submitticket.uploadFieldCount+"');");linkDelete[1].setAttribute("id","delete_"+submitticket.uploadFieldCount);document.getElementById('fileFieldsContainer').appendChild(newField);$('input[type=file]:not(".file-input-wrapper input[type=file]")').bootstrapFileInput();submitticket.uploadFieldCount++;},selectedFile:function(e){var fileExt=$(this).val().split('\.').pop().toLowerCase();var validExtns=$('input[name=validExtns]').val().trim().toLowerCase();if(fileExt&&validExtns!='*'){var valid=false;validExtns=validExtns.split(',');$.each(validExtns,function(ix,val){if(fileExt.toLowerCase()==val.trim().toLowerCase()){valid=true;return false;}});if(valid){$(this).parent().siblings('a').css('visibility','visible');}else{$(this).val('').replaceWith($(this).clone(true));RichHTML.error(lang("This file type is not accepted. Please select a different file."));}}}};;clientexec.timer_typing=null;$(document).ready(function(){$('.drop-ticket-type').bind('click',function(){$('.review-questions-fortype').html('');var self=this;$('.top-questions-block table').remove();$('.loading-ticket-type').show();$.get('index.php?fuse=support&controller=ticket&action=toparticles&typeid='+$(this).val(),function(xhr){var html="";if(xhr.articles.length>0){var template=document.getElementById('articles').innerHTML;html=Mustache.render(template,xhr);$('.top-questions-block .review-questions-desc').after(html);$('.top-questions-block').show();$('.loading-ticket-type').hide();$('.review-questions-fortype').append(' '+$('.drop-ticket-type option:selected').text());}else{$('.top-questions-block').hide();$('.loading-ticket-type').hide();}})
submitticket.loadCustomFields($(this).val());});if($('.drop-ticket-type').val()>0){$('.drop-ticket-type').trigger('click');}
if($.trim($('.ticket-subject').val())!=""){$('.ticket-subject').keyup();;}
$('.btn-newticket-submit').click(function(e){var valid=$('.support-ticket-form').parsley('validate');});$('input[type=file]').bootstrapFileInput();$('input[type=file]').change(submitticket.selectedFile);$('#new-file-button').bind('click',function(e){e.preventDefault();submitticket.cloneAttchInput();});submitticket.cloneAttchInput();});submitticket.removeFileField=function(id){document.getElementById(id).parentNode.parentNode.removeChild(document.getElementById(id).parentNode);submitticket.uploadFieldCount--;};submitticket.loadCustomFields=function(issuetype){$('.fieldset-customfields').hide();$('.fieldset-customfields .customfields').empty();$.get('index.php?fuse=support&controller=ticket&action=customfieldsfortype',{ticketType:issuetype},function(data){customFields.load(data.fields,function(data){$('.fieldset-customfields .customfields').append(data);},function(){clientexec.postpageload('.fieldset-customfields');$('.support-ticket-form').parsley('destroy');$('.support-ticket-form').parsley();});if(data.fields.length>0){$('.fieldset-customfields').show();}else{$('.fieldset-customfields').hide();}});};clientexec.loadKBArticles=function(e,path)
{if(!path)path="";if(e.which==13){window.clearTimeout(clientexec.timer_typing);e.preventDefault();}else{window.clearTimeout(clientexec.timer_typing);clientexec.timer_typing=window.setTimeout(function(){var str=$.trim($('.ticket-subject').val());if(str==""){$('.subject-article-matches').html('').hide();window.clearTimeout(clientexec.timer_typing);return;}
$.get(path+'index.php?fuse=knowledgebase&action=livearticlesearch',{subject:str,path:path},function(data){if(data.articles.length==0){html="";$('.subject-article-matches').hide();return;}else if(data.articles.length==1){html=lang("There is")+" "+data.articles.length+" "+lang("article that might answer your question.");}else{html=lang("There are")+" "+data.articles.length+" "+lang("articles that might answer your question.");}
var template=document.getElementById('articles').innerHTML;html="<div class='subject-article-desc'>"+html+"</div>"+Mustache.render(template,data);$('.subject-article-matches').html(html).fadeIn();});},800);}};var customFields=function(){var ctrl;var customFieldsAdded=[];var allFieldsDisabled=true;var selectListeners=[];var clickListeners=[];var deleteRowListeners=[];var unique_id=0;return{load:function(fields,renderer,postload,unique){allFieldsDisabled=true;if(!unique)unique=false
for(var iterator=0;iterator<fields.length;iterator++){customFields.getMarkup(fields[iterator],renderer,unique);}
if(postload)postload();},getMarkup:function(currentFieldData,renderer,unique){var width;unique_id++;var isComboType=false;var allowBlankValue=true;var isDisabled=true;var selectFirstOnBlank=true;ctrl=null;if(currentFieldData.isrequired==1){allowBlankValue=false;}
if(currentFieldData.ischangeable==1){isDisabled=false;allFieldsDisabled=false;}
if(typeof(currentFieldData.selectfirstonblank)!="undefined"){if(!currentFieldData.selectfirstonblank){selectFirstOnBlank=false;}}
var createHiddenTypeField=false;var controlid=currentFieldData.id;if($.isNumeric(currentFieldData.id)||currentFieldData.fieldtype==50){controlid='CT_'+currentFieldData.id;createHiddenTypeField=true;}
currentFieldData.field_name=controlid;if(unique){currentFieldData.field_id=controlid+"_"+unique_id;}else{currentFieldData.field_id=controlid;}
var metaValue='';switch(currentFieldData.fieldtype){case'65':currentFieldData.is_password=true;case'63':case'64':case'2':case'14':case'4':case'3':case'5':case'13':case'11':case'12':case'7':case'0':this.renderTextField(controlid,currentFieldData,isDisabled,renderer);break;case'47':this.renderVATField(controlid,currentFieldData,isDisabled,renderer);break;case'10':this.renderTextArea(controlid,currentFieldData,isDisabled,renderer);break;case'15':this.renderDate(controlid,currentFieldData,isDisabled,renderer);break;case'16':case'1':currentFieldData.dropdownoptions=[[0,"No"],[1,"Yes"]];this.renderDropDown(controlid,currentFieldData,isDisabled,renderer);isComboType=true;break;case'8':case'30':this.renderDropDown(controlid,currentFieldData,isDisabled,renderer);isComboType=true;break;case'6':case'9':this.renderDropDown(controlid,currentFieldData,isDisabled,renderer);isComboType=true;break;case'49':this.renderButton(controlid,currentFieldData,isDisabled,renderer);break;case'52':this.renderHidden(controlid,currentFieldData,isDisabled,renderer);break;case'54':this.renderTextField(controlid,currentFieldData,isDisabled,renderer);$('#'+controlid).addClass('number');break;case'50':this.renderHostname(controlid,currentFieldData,isDisabled,renderer);break;case'55':this.renderNameserver(controlid,currentFieldData,isDisabled,renderer);break;case'53':this.renderCheckBox(controlid,currentFieldData,isDisabled,renderer);break;case'subdomain':this.renderSubDomain(controlid,currentFieldData,isDisabled,renderer);break;default:break;}
if(createHiddenTypeField){hiddenField={};hiddenField.value=currentFieldData.fieldtype;hiddenField.id='CTT_'+currentFieldData.id;hiddenField.name=currentFieldData.id;hiddenField.additional_class="customfield_hidden";hiddenField.field_name=hiddenField.id;if(unique){hiddenField.field_id=hiddenField.id+"_"+unique_id;}else{hiddenField.field_id=hiddenField.id;}
this.renderHidden(hiddenField.id,hiddenField,false,renderer);}
if((currentFieldData.listener)&&(currentFieldData.listener.onclick)){clickListeners[controlid]=currentFieldData.listener.onclick;$('#'+controlid).bind('click',function(){eval(clickListeners[this.id]+'()');});}
if((currentFieldData.listener)&&(currentFieldData.listener.onselect)){selectListeners[controlid]=currentFieldData.listener.onselect;$('#'+controlid).bind('change',function(){eval(selectListeners[this.id]+'()');});}},renderCheckBox:function(controlid,currentFieldData,isDisabled,renderer){var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-mincheck="1" parsley-required="true"':'';var field='<label class="checkbox"><input id="'+controlid+'" name="'+currentFieldData.id+'" value="'+currentFieldData.value+'" type="checkbox" '+required+' />'+currentFieldData.name+'</label>';var ctrl=$(field);renderer(ctrl);},renderHidden:function(controlid,currentFieldData,isDisabled,renderer){if(typeof currentFieldData.name==='undefined'){currentFieldData.name=currentFieldData.id;}
var label='<span for="'+controlid+'" class="customfield_hidden" style="display:none;">'+currentFieldData.name+'</span>';var field='<input id="'+controlid+'" name="'+currentFieldData.name+'" value="'+currentFieldData.value+'" type="hidden" />';var ctrl=$(label+field);renderer(ctrl);},renderButton:function(controlid,currentFieldData,isDisabled,renderer){hidden='';if(currentFieldData.ishidden){hidden='display: none';}
var width=(currentFieldData.width)?currentFieldData.width:330;var ctrl=$("<div id='"+controlid+"_wrapper'><button id='"+controlid+"' type='button' style='margin-top:20px;width:"+width+"px; "+hidden+"' class='btn'><span>"+currentFieldData.value+"</span></button></div>");renderer(ctrl);},renderDate:function(controlid,currentFieldData,isDisabled,renderer)
{var options="",field="",ctrl,dateformat;var disabledtext=(isDisabled)?'disabled="disabled"':"";var width=(currentFieldData.width)?currentFieldData.width:288;var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var hidden=(currentFieldData.ishidden)?"display:none;":"";var name=currentFieldData.name;if(currentFieldData.description){name='<span data-toggle="popover-hover" data-html="true" data-placement="top" title="'+name+'" data-content="'+currentFieldData.description+'" class="tip-target">'+name+'</span>';}
var label='<label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';if(currentFieldData.value&&currentFieldData.value!==''&&currentFieldData.value!=='00/00/0000'){}else{currentFieldData.value='No date selected';}
if(clientexec.dateFormat==="d/m/Y"){dateformat="dd/mm/yyyy";}else{dateformat="mm/dd/yyyy";}
field='<div style="'+hidden+'" class="input-append date" id="'+currentFieldData.field_id+'" data-date="'+currentFieldData.value+'" >';field+='<input name="'+controlid+'"" style="display: inline;width:'+width+'px" class="span2 disableDatePickerAutoLoad" type="text" value="'+currentFieldData.value+'" readonly>';field+='<span class="add-on"><i class="icon-calendar"></i></span>';field+='</div>';var arr=controlid.split("_");var ctt="<input type='hidden' name='CTT_"+arr[1]+"' value='15'>";ctrl=$(label+field+ctt);renderer(ctrl);$('#'+currentFieldData.field_id).datepicker({format:dateformat,autoclose:true});},renderNameserver:function(controlid,currentFieldData,isDisabled,renderer)
{var disabledtext=(isDisabled)?'disabled="disabled"':"";var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var hidden=(currentFieldData.ishidden)?"display:none;":"";var label='<label  class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+currentFieldData.name+'</label>';var field='<input class="nameserver" style="width:250px;'+hidden+'" '+required+' value="'+currentFieldData.value+'" '+disabledtext+' type="text" id="'+controlid+'" name="'+controlid+'" />';var postdiv='<button type="button" name="'+controlid+'_nameserverdelete" id="'+controlid+'_nameserverdelete" style="margin-left:10px;'+hidden+'" class="rich-button btn" onclick="nameservers_deleteaddress(this);"><span>Delete</span></button>';var ctrl=$(label+field+postdiv);renderer(ctrl);},renderHostname:function(controlid,currentFieldData,isDisabled,renderer)
{var hosttype="",hostname="",address="",ctrl,options="",prediv="",postdiv="";var disabledtext=(isDisabled)?'disabled="disabled"':"";var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var hidden="";var drop_class="";if(currentFieldData.ishidden){hidden="display:none;";drop_class="disableSelect2AutoLoad";}
selected=(currentFieldData.value.hosttype=="A")?"selected":"";options='<option value="A" '+selected+'>A</option>';selected=(currentFieldData.value.hosttype=="AAAA")?"selected":"";options+='<option value="AAAA" '+selected+'>AAAA</option>';selected=(currentFieldData.value.hosttype=="MXE")?"selected":"";options+='<option value="MXE" '+selected+'>MXE</option>';selected=(currentFieldData.value.hosttype=="MX")?"selected":"";options+='<option value="MX" '+selected+'>MX</option>';selected=(currentFieldData.value.hosttype=="CNAME")?"selected":"";options+='<option value="CNAME" '+selected+'>CNAME</option>';selected=(currentFieldData.value.hosttype=="URL")?"selected":"";options+='<option value="URL" '+selected+'>URL</option>';selected=(currentFieldData.value.hosttype=="FRAME")?"selected":"";options+='<option value="FRAME" '+selected+'>FRAME</option>';selected=(currentFieldData.value.hosttype=="TXT")?"selected":"";options+='<option value="TXT" '+selected+'>TXT</option>';hostname='<input style="width:176px;margin-right:3px;height:18px;margin-bottom:1px;'+hidden+'" '+required+' value="'+currentFieldData.value.hostname+'" '+disabledtext+' type="text" id="hostname_'+controlid+'" class="hostname" name="hostname_'+controlid+'" />';hosttype='<select '+disabledtext+' '+required+' id="hosttype_'+controlid+'" class="hosttype '+drop_class+'" name="hosttype_'+controlid+'" style="width:90px;'+hidden+'">'+options+'</select>';address='<input style="margin-left:3px;width:176px;height:18px;margin-bottom:1px;'+hidden+'" '+required+' value="'+currentFieldData.value.address+'" '+disabledtext+' type="text" id="hostaddress_'+controlid+'" class="hostaddress" name="hostaddress_'+controlid+'" />';if(!currentFieldData.ishidden){prediv="<div id='hostdivider_"+controlid+"' style='padding-top:10px;'></div>";buttonDisabled='';if(isDisabled){buttonDisabled='disabled';}
postdiv='<button type="button" name="'+controlid+'_hostdelete" id="'+controlid+'_hostdelete" style="margin-left:10px;" class="rich-button btn" onclick="hostrecords_deleteaddress(this);" '+buttonDisabled+'><span>Delete</span></button>';}
ctrl=$(prediv+hostname+hosttype+address+postdiv);renderer(ctrl);if(!currentFieldData.ishidden){ctrlid='#hosttype_'+controlid;$(ctrlid).select2({minimumResultsForSearch:35,width:'resolve'});}},renderTextArea:function(controlid,currentFieldData,isDisabled,renderer)
{var field="",ctrl;var disabledtext=(isDisabled)?'disabled="disabled"':"";var width=(currentFieldData.width)?currentFieldData.width:315;var height=(currentFieldData.height)?currentFieldData.height:100;var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var name=currentFieldData.name;if(currentFieldData.description){name='<span data-toggle="popover-hover" data-html="true" data-placement="top" title="'+name+'" data-content="'+currentFieldData.description+'" class="tip-target">'+name+'</span>';}
var label='<label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';field='<textarea class="type_'+currentFieldData.fieldtype+' disableSelect2AutoLoad" '+disabledtext+' '+required+' id="'+controlid+'" name="'+controlid+'" style="width:'+width+'px; height:'+height+'px">'+currentFieldData.value+'</textarea>';ctrl=$(label+field);renderer(ctrl);},renderDropDown:function(controlid,currentFieldData,isDisabled,renderer)
{var options="",field="",ctrl,option_value,option_name;var disabledtext=(isDisabled)?'disabled="disabled"':"";var width=(currentFieldData.width)?currentFieldData.width:330;var showlabel=(typeof(currentFieldData.showlabel)!="undefined")?currentFieldData.showlabel:true;var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var showcheckboxes=(typeof(currentFieldData.showcheckboxes)!="undefined")?currentFieldData.showcheckboxes:false;name=currentFieldData.name;if(!showcheckboxes&&currentFieldData.description){name='<span data-toggle="popover-hover" data-html="true" data-placement="top" title="'+name+'" data-content="'+currentFieldData.description+'" class="tip-target">'+name+'</span>';}else if(showcheckboxes){options="<div class='field-description'>"+currentFieldData.description+"</div>";}
var label='<label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';$.each(currentFieldData.dropdownoptions,function(index,object){option_value=object[0];option_name=object[1];if(showcheckboxes){selected=(option_value==currentFieldData.value)?"checked":"";options+='<label  class="customfield_label radio"><input type="radio" '+selected+' name="'+controlid+'" value="'+option_value+'"> '+option_name+'</label>';}else{selected=(option_value==currentFieldData.value)?"selected":"";options+="<option value='"+option_value+"' "+selected+">"+option_name+"</option>";}});if(showcheckboxes){field="<fieldset>"+options+"</fieldset>";}else{field='<select tabindex="1" class="type_'+currentFieldData.fieldtype+' disableSelect2AutoLoad" '+disabledtext+' '+required+' id="'+currentFieldData.field_id+'" name="'+controlid+'" style="width:'+width+'px">'+options+'</select>';}
if(showlabel){ctrl=$(label+field);}else{ctrl=$(field);}
renderer(ctrl);ctrlid='#'+currentFieldData.field_id;if(!showcheckboxes){$(ctrlid).select2({minimumResultsForSearch:35,width:'resolve'});if(currentFieldData.ishidden){$(ctrlid).select2('container').hide();}}},renderTextField:function(controlid,currentFieldData,isDisabled,renderer){var is_password=(currentFieldData.is_password)?currentFieldData.is_password:false;var disabledtext=(isDisabled)?'disabled="disabled"':"";var width=(currentFieldData.width)?currentFieldData.width:315;var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var hidden=(currentFieldData.ishidden)?"display:none;":"";var additional_validation=(currentFieldData.validation_type)?'data-type="'+currentFieldData.validation_type+'"':'';var name=currentFieldData.name;if(currentFieldData.description){name='<span data-toggle="popover-hover" data-html="true" data-placement="top" title="'+name+'" data-content="'+currentFieldData.description+'" class="tip-target">'+name+'</span>';}
var label='<label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';if(typeof(currentFieldData.value)=="undefined"){currentFieldData.value="";}
var field='<input style="width:'+width+'px;'+hidden+'" '+required+' '+additional_validation+' class="type_'+currentFieldData.fieldtype+'" value="'+currentFieldData.value+'" '+disabledtext+' type="'+((is_password)?"password":"text")+'" id="'+controlid+'" name="'+controlid+'" />';var ctrl=$(label+field);renderer(ctrl);},renderSubDomain:function(controlid,currentFieldData,isDisabled,renderer){var width=(currentFieldData.width)?currentFieldData.width:315;var name=currentFieldData.name;var label='<table><tr><td><label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';var field='<input pattern="^([-0-9A-Za-z]+)$" data-required="true" parsley-required="true" style="width:'+width+'px;"class="type_'+currentFieldData.fieldtype+'" type="text" id="'+controlid+'" name="'+controlid+'" /></td>';var field=field+'<td style="padding-top:26px"  valign="top">&nbsp; . &nbsp; <select name="subdomaintld_'+controlid+'">';$.each(currentFieldData.subdomains,function(index,value){field=field+'<option value="'+value+'">'+value+'</option>';})
field=field+'</select></td></tr></table>';var ctrl=$(label+field);renderer(ctrl);},renderVATField:function(controlid,currentFieldData,isDisabled,renderer){var is_password=(currentFieldData.is_password)?currentFieldData.is_password:false;var disabledtext=(isDisabled)?'disabled="disabled"':"";var width=(currentFieldData.width)?currentFieldData.width:293;var required=(currentFieldData.isrequired&&currentFieldData.isrequired==true)?'data-required="true" parsley-required="true"':'';var hidden=(currentFieldData.ishidden)?"display:none;":"";var additional_validation=(currentFieldData.validation_type)?'data-type="'+currentFieldData.validation_type+'"':'';var name=currentFieldData.name;if(currentFieldData.description){name='<span data-toggle="popover-hover" data-html="true" data-placement="top" title="'+name+'" data-content="'+currentFieldData.description+'" class="tip-target">'+name+'</span>';}
var label='<label class="customfield_label" for="'+controlid+'" style="display:'+((currentFieldData.ishidden)?"none":"")+'">'+name+'</label>';if(typeof(currentFieldData.value)=="undefined"){currentFieldData.value="";}
var field='<span id="vat_country"></span>&nbsp;&nbsp;<input style="width:'+width+'px;'+hidden+'" '+required+' '+additional_validation+' class="type_'+currentFieldData.fieldtype+'" value="'+currentFieldData.value+'" '+disabledtext+' type="'+((is_password)?"password":"text")+'" id="'+controlid+'" name="'+controlid+'" />';var message0='<div id="vat_validating" style="display:none">Validating...</div>';var message1='<div id="vat_valid" style="display:none">Valid VAT Number</div>';var message2='<div id="vat_invalid" style="display:none">Invalid VAT Number.&nbsp;<a href="javascript:validate_vat();"><font color=blue>Retry</font></a></div>';var message3='<div id="vat_error" style="display:none">Unable to validate at the moment.&nbsp;<a href="javascript:validate_vat();"><font color=blue>Retry</font></a></div>';var ctrl=$('<span id="VAT'+controlid+'" name="VAT'+controlid+'" style="display:none">'+label+field+message0+message1+message2+message3+'</span>');renderer(ctrl);},getAllFieldsDisabled:function(){return allFieldsDisabled;},getCustomFieldsAdded:function(){return customFieldsAdded;},resetCustomFields:function(){customFieldsAdded=[];}};}();